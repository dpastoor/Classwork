{
    "contents" : "#Author: Devin Pastoor\n#Email: devin.pastoor@gmail.com\n#code for data frame provided by Mathangi Gopalakrishnan\n\n\nlibrary(ggplot2)\nlibrary(plyr)\nlibrary(reshape2)\nlibrary(grid)\n\n#xaxis data\nesize<-c(0,25,35,50,55,60,65,70,75,80,100)\n\n#power data from Mathangi\npower<-data.frame(xaxis = c(0,25,35,50,55,60,65,70,75,80,100),\n                  t1=c(0.052,0.377,0.592,0.858,0.915,0.942,0.968,0.990,0.993,0.993,1),\n                  s1=c(0.042,0.525,0.787,0.964,0.986,0.994,0.998,0.998,1,1,1),\n                  t2=c(0.049,0.535,0.792,0.965,0.978,0.995,0.999,0.999,1,1,1),\n                  s2=c(0.040,0.746,0.926,0.997,0.998,1,1,1,1,1,1),\n                  t3=c(0.049,0.677,0.927,0.998,1,1,1,1,1,1,1),\n                  s3=c(0.049,0.855,0.984,1,1,1,1,1,1,1,1),\n                  t4=c(0.057,0.808,0.979,0.999,1,1,1,1,1,1,1),\n                  s4=c(0.061,0.951,0.995,1,1,1,1,1,1,1,1))\n\nhead(power)\n\n#add x-axis data to dataframe\npower[0, ] <- esize\ny <- melt(power, id=\"xaxis\", variable_name = \"label\")\n\n#vector to distinguish whether T-test (T) or model (S)\nts <- rep(c(\"T\", \"S\", \"T\", \"S\", \"T\", \"S\", \"T\", \"S\"), each = 11)\n\n#vector to distinguish # per group\n### 1: n = 20/group\n### 2: n = 30/group\n### 3: n = 45/group\n### 4: n = 60/group\ngrp <- rep(c(seq(1,4)), each = 22)\ny[,4] <- as.factor(ts)\ny[,5] <- as.factor(grp)\n\nhead(y)\n\n#basic qplot to see overall shape\nqplot(xaxis, value, data = y, color = variable) + geom_line()\n\n## Plot of power curves \n# ** V4 --> column in data from containing T/S\n# ** V5 --> column in dataframe containing 1,2,3,4\n\nplot <- ggplot(data = y, aes(x = xaxis, y = value, color = V5)) +\n#add points, lines, and abline\n  geom_point(aes(shape = V4), size = 5) +\n  geom_line(aes(group = variable, linetype = V4), size = 1.2) +\n  geom_hline(aes(yintercept = 0.9), linetype=\"dashed\", size = 1.05) +\n\n#control how legend looks\n  labs(color = \"# per group\", shape = \"Method\", linetype = \"Method\") +    #if don't set linetype to same name will separate to 3 legends\n  scale_color_discrete(name = \"# per group\",\n                       labels = c(\"20/group\", \"30/group\", \"45/group\", \"60/group\")) +\n  scale_linetype_discrete(name = \"Method\", labels = c(\"t-test\", \"Model\")) +\n  scale_shape_discrete(name = \"Method\", labels = c(\"t-test\", \"Model\")) +\n  theme(legend.justification=c(1,0), legend.position=c(1,0)) + #legend placement on graph\n  theme(legend.key.width= unit(2, \"lines\")) + #part of grid, controls width of lines in legend\n\n#control how axis looks  \n  scale_x_continuous(name = \"% Effect due to Clobazam\") +\n  scale_y_continuous(name = \"Power\") +\n    #to edit out grid lines\n    #theme(panel.grid.minor=element_blank(), panel.grid.major=element_blank()) +\n  theme(axis.title.x = element_text(size=20)) +\n  theme(axis.title.y = element_text(size=20)) +\n  theme(axis.text.x = element_text(size=20)) +\n  theme(axis.text.y = element_text(size=20)) +\n  theme(legend.title = element_text(size = 16)) +\n  theme(legend.text = element_text(size = 14)) \n   \nplot\n\n",
    "created" : 1358397920309.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1420256565",
    "id" : "DC4D5C5F",
    "lastKnownWriteTime" : 1358397872,
    "path" : "~/Classwork/ggplot_experiments/powercurvetest.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}